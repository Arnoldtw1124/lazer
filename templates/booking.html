{% extends 'base.html' %}

{% block title %}立即預約 - 諾雕 Laser engraving{% endblock %}

{% block content %}
<section class="booking-section"
    style="padding: 100px 10%; min-height: 80vh; display: flex; justify-content: center; align-items: center;">
    <div class="booking-card"
        style="background: var(--card-bg); padding: 3rem; border-radius: 20px; border: var(--glass-border); width: 100%; max-width: 600px; backdrop-filter: blur(10px);">

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div
            style="padding: 1rem; margin-bottom: 1rem; border-radius: 8px; text-align: center; 
                          background: {{ 'rgba(46, 204, 113, 0.2)' if category == 'success' else 'rgba(231, 76, 60, 0.2)' }}; 
                          color: {{ '#2ecc71' if category == 'success' else '#e74c3c' }}; border: 1px solid currentColor;">
            {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">預約雷雕服務</h2>
        <form method="POST" action="{{ url_for('booking') }}">
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="name" style="display: block; margin-bottom: 0.5rem;">暱稱</label>
                <input type="text" id="name" name="name" required
                    style="width: 100%; padding: 0.8rem; border-radius: 8px; border: none; background: rgba(255, 255, 255, 0.1); color: white;">
            </div>

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="product" style="display: block; margin-bottom: 0.5rem;">商品選擇 (Product Selection)</label>
                <select id="product" name="product" required
                    style="width: 100%; padding: 0.8rem; border-radius: 8px; border: none; background: rgba(255, 255, 255, 0.1); color: white;">
                    <option value="" disabled {% if not request.args.get('product') %}selected{% endif %}
                        style="color: black;">請選擇商品</option>
                    <option value="客製化鑰匙圈" {% if request.args.get('product')=='客製化鑰匙圈' %}selected{% endif %}
                        style="color: black;">客製化鑰匙圈</option>
                    <option value="原木杯墊" {% if request.args.get('product')=='原木杯墊' %}selected{% endif %}
                        style="color: black;">原木杯墊</option>
                    <option value="寵物名牌" {% if request.args.get('product')=='寵物名牌' %}selected{% endif %}
                        style="color: black;">寵物名牌</option>
                    <option value="壓克力立牌" {% if request.args.get('product')=='壓克力立牌' %}selected{% endif %}
                        style="color: black;">壓克力立牌</option>
                    <option value="金屬名片/銘版" {% if request.args.get('product')=='金屬名片/銘版' %}selected{% endif %}
                        style="color: black;">金屬名片/銘版</option>
                    <option value="特殊客製需求" {% if request.args.get('product')=='特殊客製需求' %}selected{% endif %}
                        style="color: black;">特殊客製需求</option>
                </select>
            </div>

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="contact" style="display: block; margin-bottom: 0.5rem;">聯絡方式 (Email / Discord)</label>
                <input type="text" id="contact" name="contact" required
                    style="width: 100%; padding: 0.8rem; border-radius: 8px; border: none; background: rgba(255, 255, 255, 0.1); color: white;">
            </div>

            <div class="form-group" style="margin-bottom: 2rem;">
                <label for="notes" style="display: block; margin-bottom: 0.5rem;">備註需求</label>
                <textarea id="notes" name="notes" rows="4"
                    style="width: 100%; padding: 0.8rem; border-radius: 8px; border: none; background: rgba(255, 255, 255, 0.1); color: white; resize: none;"></textarea>
            </div>

            <button type="submit" class="btn btn-primary"
                style="width: 100%; border: none; cursor: pointer;">送出預約</button>
        </form>
    </div>
</section>
{% endblock %}